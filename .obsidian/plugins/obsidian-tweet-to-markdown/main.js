/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugin's github repository
*/

'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

const DEFAULT_SETTINGS = {
    bearerToken: null,
    noteLocation: '',
    downloadAssets: false,
    assetLocation: '',
    filename: null,
    tweetLinkFetch: false,
    embedMethod: 'obsidian',
    avatars: true,
    dateFormat: 'LLL',
    dateLocale: 'en',
};
class TTMSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.locales = obsidian.moment
            .locales()
            .reduce((obj, locale) => (Object.assign(Object.assign({}, obj), { [locale]: locale })), {});
        this.plugin = plugin;
    }
    display() {
        const { containerEl } = this;
        containerEl.empty();
        containerEl.createEl('h2', { text: 'Settings for Tweet to Markdown' });
        new obsidian.Setting(containerEl)
            .setName('Bearer Token')
            .setDesc(obsidian.Platform.isMobileApp
            ? 'Enter your V2 Twitter bearer token.'
            : 'Enter your V2 Twitter bearer token, or store it in the environment variable TWITTER_BEARER_TOKEN.')
            .addText(text => text
            .setPlaceholder('Twitter v2 bearer token')
            .setValue(this.plugin.settings.bearerToken)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.bearerToken = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Note Location')
            .setDesc('Where to store the created notes. Defaults to the root of the vault.')
            .addText(text => text
            .setPlaceholder('tweets/')
            .setValue(this.plugin.settings.noteLocation)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.noteLocation = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Download images')
            .setDesc('Whether to link images or download them to your vault.')
            .addToggle(toggle => toggle
            .setValue(this.plugin.settings.downloadAssets)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.downloadAssets = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Image Location')
            .setDesc('Where to store the downloaded images. Defaults to `assets/`.')
            .addText(text => text
            .setPlaceholder('assets/')
            .setValue(this.plugin.settings.assetLocation)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.assetLocation = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Filename')
            .setDesc('The name to give the saved tweet file. You can use the placeholders [[handle]], [[name]], [[text]] and [[id]]. Defaults to "[[handle]] - [[id]]"')
            .addText(text => text
            .setPlaceholder('[[handle]] - [[id]]')
            .setValue(this.plugin.settings.filename)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.filename = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Download Tweet on paste')
            .setDesc('Automatically download and embed a tweet when pasting a twitter link.')
            .addToggle(toggle => toggle
            .setValue(this.plugin.settings.tweetLinkFetch)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.tweetLinkFetch = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Pasted Tweet embed method')
            .setDesc('Determines if a pasted tweet will be embedded directly into the file or linked with an Obsidian embed.')
            .addDropdown(dropdown => dropdown
            .addOptions({
            text: 'Direct text embed',
            obsidian: 'Obsidian embed',
        })
            .setValue(this.plugin.settings.embedMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.embedMethod = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Include profile pictures')
            .setDesc('Whether to include the profile image of the tweet author in the saved tweet.')
            .addToggle(toggle => toggle.setValue(this.plugin.settings.avatars).onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.avatars = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Date Format')
            .setDesc('The format to display the tweet timestamp.')
            .addMomentFormat(format => format
            .setDefaultFormat(this.plugin.settings.dateFormat)
            .setValue(this.plugin.settings.dateFormat)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.dateFormat =
                value || DEFAULT_SETTINGS.dateFormat;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Date locale')
            .setDesc('The locale to apply to the date format')
            .addDropdown(dropdown => dropdown
            .addOptions(this.locales)
            .setValue(this.plugin.settings.dateLocale)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.dateLocale = value;
            yield this.plugin.saveSettings();
        })));
    }
}

const createDownloadManager = () => {
    const downloadList = [];
    let isAnnounced = false;
    const addDownloads = (downloads) => {
        downloadList.push(...downloads);
        if (!isAnnounced) {
            isAnnounced = true;
            new obsidian.Notice('Downloading images...');
        }
    };
    const finishDownloads = () => Promise.all(downloadList);
    return {
        addDownloads,
        finishDownloads,
    };
};

/**
 * Credit: lautis/unicode-substring
 * Rewritten for Obsidian mobile functionality.
 */
const charAt = (string, index) => {
    const first = string.charCodeAt(index);
    let second;
    if (first >= 0xd800 && first <= 0xdbff && string.length > index + 1) {
        second = string.charCodeAt(index + 1);
        if (second >= 0xdc00 && second <= 0xdfff) {
            return string.substring(index, index + 2);
        }
    }
    return string[index];
};
const slice = (string, start, end) => {
    let accumulator = '';
    let character;
    let stringIndex = 0;
    let unicodeIndex = 0;
    const length = string.length;
    while (stringIndex < length) {
        character = charAt(string, stringIndex);
        if (unicodeIndex >= start && unicodeIndex < end) {
            accumulator += character;
        }
        stringIndex += character.length;
        unicodeIndex += 1;
    }
    return accumulator;
};
const toNumber = (value, fallback) => {
    if (value === undefined) {
        return fallback;
    }
    else {
        return Number(value);
    }
};
const unicodeSubstring = (string, start, end) => {
    const realStart = toNumber(start, 0);
    const realEnd = toNumber(end, string.length);
    if (realEnd === realStart) {
        return '';
    }
    else if (realEnd > realStart) {
        return slice(string, realStart, realEnd);
    }
    else {
        return slice(string, realEnd, realStart);
    }
};

// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  // lazy load so that environments that need to polyfill have a chance to do so
  if (!getRandomValues) {
    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
    // find the complete implementation of crypto (msCrypto) on IE11.
    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);

    if (!getRandomValues) {
      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
    }
  }

  return getRandomValues(rnds8);
}

var REGEX = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;

function validate(uuid) {
  return typeof uuid === 'string' && REGEX.test(uuid);
}

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */

var byteToHex = [];

for (var i = 0; i < 256; ++i) {
  byteToHex.push((i + 0x100).toString(16).substr(1));
}

function stringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  // Note: Be careful editing this code!  It's been tuned for performance
  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
  // of the following:
  // - One or more input array values don't map to a hex octet (leading to
  // "undefined" in the uuid)
  // - Invalid input values for the RFC `version` or `variant` fields

  if (!validate(uuid)) {
    throw TypeError('Stringified UUID is invalid');
  }

  return uuid;
}

function v4(options, buf, offset) {
  options = options || {};
  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

  rnds[6] = rnds[6] & 0x0f | 0x40;
  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

  if (buf) {
    offset = offset || 0;

    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }

    return buf;
  }

  return stringify(rnds);
}

/**
 * Parses out the tweet ID from the URL the user provided
 * @param {string} src - The URL
 */
const getTweetID = (src) => {
    // Create a URL object with the source. If it fails, it's not a URL.
    const url = new URL(src);
    const id = url.pathname
        .split('/')
        .filter(piece => !!piece) // remove empty strings from array
        .slice(-1)[0];
    if (!id) {
        throw new Error('URL does not seem to be a tweet.');
    }
    return id;
};
/**
 * Fetches a tweet object from the Twitter v2 API
 * @param {string} id - The ID of the tweet to fetch from the API
 * @param {string} bearer - The bearer token
 * @returns {Tweet} - The tweet from the Twitter API
 */
const getTweet = (id, bearer) => __awaiter(void 0, void 0, void 0, function* () {
    const twitterUrl = new URL(`https://api.twitter.com/2/tweets/${id}`);
    const params = new URLSearchParams({
        expansions: 'author_id,attachments.poll_ids,attachments.media_keys',
        'user.fields': 'name,username,profile_image_url',
        'tweet.fields': 'attachments,public_metrics,entities,conversation_id,referenced_tweets,created_at',
        'media.fields': 'url,alt_text',
        'poll.fields': 'options',
    });
    let tweetRequest;
    try {
        tweetRequest = yield obsidian.request({
            method: 'GET',
            url: `${twitterUrl.href}?${params.toString()}`,
            headers: { Authorization: `Bearer ${bearer}` },
        });
    }
    catch (error) {
        if (error.request) {
            throw new Error('There seems to be a connection issue.');
        }
        else {
            console.error(error);
            throw error;
        }
    }
    const tweet = JSON.parse(tweetRequest);
    if (tweet.errors) {
        throw new Error(tweet.errors[0].detail);
    }
    if (tweet === null || tweet === void 0 ? void 0 : tweet.reason) {
        switch (tweet.reason) {
            case 'client-not-enrolled':
            default:
                throw new Error('There seems to be a problem with your bearer token.');
        }
    }
    return tweet;
});
/**
 * Creates markdown table to capture poll options and votes
 * @param {Poll[]} polls - The polls array provided by the Twitter v2 API
 * @returns {string} - Markdown table as a string of the poll
 */
const createPollTable = (polls) => {
    return polls.map((poll) => {
        const table = ['\n|Option|Votes|', '|---|:---:|'];
        const options = poll.options.map(option => `|${option.label}|${option.votes}|`);
        return table.concat(options).join('\n');
    });
};
/**
 * Filename sanitization. Credit: parshap/node-sanitize-filename
 * Rewrite to allow functionality on Obsidian mobile.
 */
const illegalRe = /[/?<>\\:*|"]/g;
// eslint-disable-next-line no-control-regex
const controlRe = /[\x00-\x1f\x80-\x9f]/g;
const reservedRe = /^\.+$/;
const windowsReservedRe = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i;
const windowsTrailingRe = /[. ]+$/;
/**
 * Sanitize a filename to remove any illegal characters.
 * Also keeps the filename to 255 bytes or below.
 * @param filename string
 * @returns string
 */
const sanitizeFilename = (filename) => {
    filename = filename
        .replace(illegalRe, '')
        .replace(controlRe, '')
        .replace(reservedRe, '')
        .replace(windowsReservedRe, '')
        .replace(windowsTrailingRe, '');
    return truncateBytewise(filename, 252);
};
/**
 * Truncate a string to a specified number of bytes
 * @param string the string to truncate
 * @param length the maximum length in bytes of the trimmed string
 * @returns string
 */
const truncateBytewise = (string, length) => {
    const originalLength = length;
    while (new TextEncoder().encode(string).length > originalLength) {
        string = unicodeSubstring(string, 0, length--);
    }
    return string;
};
/**
 * Creates a filename based on the tweet and the user defined options.
 * @param {Tweet} tweet - The entire tweet object from the Twitter v2 API
 * @param {filename} string - The filename provided by the user
 * @returns {string} - The filename based on tweet and options
 */
const createFilename = (tweet, filename = '') => {
    filename = filename ? filename : '[[handle]] - [[id]]';
    filename = filename.replace(/\.md$/, ''); // remove md extension if provided
    filename = filename.replace('[[name]]', tweet.includes.users[0].name);
    filename = filename.replace('[[handle]]', tweet.includes.users[0].username);
    filename = filename.replace('[[id]]', tweet.data.id);
    filename = filename.replace('[[text]]', tweet.data.text);
    return sanitizeFilename(filename) + '.md';
};
/**
 * Creates media links to embed media into the markdown file
 * @param {Media[]} media - The tweet media object provided by the Twitter v2 API
 * @returns {string[]} - An array of markdown image links
 */
const createMediaElements = (settings, media) => {
    return media
        .map((medium) => {
        var _a, _b;
        if (settings.downloadAssets) {
            const assetLocation = settings.assetLocation || 'assets';
            const filepath = obsidian.normalizePath(`${assetLocation}/${medium.media_key}.jpg`);
            switch (medium.type) {
                case 'photo':
                    return `\n![${(_a = medium.alt_text) !== null && _a !== void 0 ? _a : medium.media_key}](${filepath})`;
            }
        }
        else {
            switch (medium.type) {
                case 'photo':
                    return `\n![${(_b = medium.alt_text) !== null && _b !== void 0 ? _b : medium.media_key}](${medium.url})`;
            }
        }
    })
        .filter(medium => !!medium);
};
/**
 * Creates the entire Markdown string of the provided tweet
 */
const buildMarkdown = (app, plugin, downloadManager, tweet, type = 'normal') => __awaiter(void 0, void 0, void 0, function* () {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;
    let metrics = [];
    metrics = [
        `likes: ${tweet.data.public_metrics.like_count}`,
        `retweets: ${tweet.data.public_metrics.retweet_count}`,
        `replies: ${tweet.data.public_metrics.reply_count}`,
    ];
    let text = tweet.data.text;
    const user = tweet.includes.users[0];
    /**
     * replace entities with markdown links
     */
    if ((_a = tweet.data) === null || _a === void 0 ? void 0 : _a.entities) {
        /**
         * replace any mentions, hashtags, cashtags, urls with links
         */
        ((_b = tweet.data.entities) === null || _b === void 0 ? void 0 : _b.mentions) &&
            ((_c = tweet.data.entities) === null || _c === void 0 ? void 0 : _c.mentions.forEach(({ username }) => {
                text = text.replace(`@${username}`, `[@${username}](https://twitter.com/${username})`);
            }));
        ((_d = tweet.data.entities) === null || _d === void 0 ? void 0 : _d.hashtags) &&
            ((_e = tweet.data.entities) === null || _e === void 0 ? void 0 : _e.hashtags.forEach(({ tag }) => {
                text = text.replace(`#${tag}`, `[#${tag}](https://twitter.com/hashtag/${tag}) `);
            }));
        ((_f = tweet.data.entities) === null || _f === void 0 ? void 0 : _f.cashtags) &&
            ((_g = tweet.data.entities) === null || _g === void 0 ? void 0 : _g.cashtags.forEach(({ tag }) => {
                text = text.replace(`$${tag}`, `[$${tag}](https://twitter.com/search?q=%24${tag})`);
            }));
        ((_h = tweet.data.entities) === null || _h === void 0 ? void 0 : _h.urls) &&
            ((_j = tweet.data.entities) === null || _j === void 0 ? void 0 : _j.urls.forEach(url => {
                text = text.replace(url.url, `[${url.display_url}](${url.expanded_url})`);
            }));
    }
    const date = obsidian.moment(tweet.data.created_at)
        .locale(plugin.settings.dateLocale)
        .format(plugin.settings.dateFormat);
    /**
     * Define the frontmatter as the name, handle, and source url
     */
    const frontmatter = [
        '---',
        `author: "${user.name}"`,
        `handle: "@${user.username}"`,
        `source: "https://twitter.com/${user.username}/status/${tweet.data.id}"`,
        `date: "${date}"`,
        ...metrics,
        '---',
    ];
    const assetPath = plugin.settings.assetLocation || 'assets';
    let markdown = [];
    if (plugin.settings.avatars) {
        markdown.push(`![${user.username}](${plugin.settings.downloadAssets
            ? obsidian.normalizePath(`${assetPath}/${user.username}-${user.id}.jpg`)
            : user.profile_image_url})` // profile image
        );
    }
    markdown.push(`${user.name} ([@${user.username}](https://twitter.com/${user.username})) - ${date}`, // name, handle, and date
    '\n', `${text}`); // text of the tweet
    // markdown requires 2 line breaks for actual new lines
    markdown = markdown.map(line => line.replace(/\n/g, '\n\n'));
    // Add in other tweet elements
    if ((_k = tweet.includes) === null || _k === void 0 ? void 0 : _k.polls) {
        markdown = markdown.concat(createPollTable(tweet.includes.polls));
    }
    if ((_l = tweet.includes) === null || _l === void 0 ? void 0 : _l.media) {
        markdown = markdown.concat(createMediaElements(plugin.settings, (_m = tweet.includes) === null || _m === void 0 ? void 0 : _m.media));
    }
    // download images
    if (plugin.settings.downloadAssets) {
        downloadImages(app, downloadManager, tweet, plugin);
    }
    // check for quoted tweets to be included
    if ((_o = tweet.data) === null || _o === void 0 ? void 0 : _o.referenced_tweets) {
        for (const subtweet_ref of (_p = tweet.data) === null || _p === void 0 ? void 0 : _p.referenced_tweets) {
            if ((subtweet_ref === null || subtweet_ref === void 0 ? void 0 : subtweet_ref.type) === 'quoted') {
                const subtweet = yield getTweet(subtweet_ref.id, plugin.bearerToken);
                const subtweet_text = yield buildMarkdown(app, plugin, downloadManager, subtweet, 'quoted');
                markdown.push('\n\n' + subtweet_text);
            }
        }
    }
    // indent all lines for a quoted tweet
    if (type === 'quoted') {
        markdown = markdown.map(line => '> ' + line);
    }
    // add original tweet link to end of tweet
    markdown.push('\n\n' +
        `[Tweet link](https://twitter.com/${user.username}/status/${tweet.data.id})`);
    // convert mobile.twitter.com links to regular links since they'll redirect anyway
    markdown = markdown.map(line => line.replace(/https?:\/\/mobile.twitter.com/g, 'https://twitter.com'));
    switch (type) {
        case 'normal':
            return frontmatter.concat(markdown).join('\n');
        case 'embed':
            return markdown.join('\n');
        case 'thread':
            return '\n\n---\n\n' + markdown.join('\n');
        case 'quoted':
            return '\n\n' + markdown.join('\n');
        default:
            return '\n\n' + markdown.join('\n');
    }
});
const downloadImages = (app, downloadManager, tweet, plugin) => {
    var _a, _b;
    const assetLocation = plugin.settings.assetLocation || 'assets';
    const user = tweet.includes.users[0];
    // create the image folder
    app.vault.createFolder(assetLocation).catch(() => { });
    let filesToDownload = [];
    if (plugin.settings.avatars) {
        filesToDownload.push({
            url: user.profile_image_url,
            title: `${user.username}-${user.id}.jpg`,
        });
    }
    (_b = (_a = tweet.includes) === null || _a === void 0 ? void 0 : _a.media) === null || _b === void 0 ? void 0 : _b.forEach((medium) => {
        switch (medium.type) {
            case 'photo':
                filesToDownload.push({
                    url: medium.url,
                    title: `${medium.media_key}.jpg`,
                });
                break;
        }
    });
    //Filter out tweet images that already exist locally
    filesToDownload = filesToDownload.filter(file => !doesFileExist(app, `${assetLocation}/${file.title}`));
    if (!filesToDownload.length) {
        return;
    }
    downloadManager.addDownloads(filesToDownload.map((file) => __awaiter(void 0, void 0, void 0, function* () {
        const imageRequest = yield fetch(file.url, {
            method: 'GET',
        });
        const image = yield imageRequest.arrayBuffer();
        return yield app.vault.createBinary(`${assetLocation}/${file.title}`, image);
    })));
};
const pasteTweet = (event, editor, markdownView, plugin) => __awaiter(void 0, void 0, void 0, function* () {
    // early escapes
    if (!plugin.settings.tweetLinkFetch)
        return; // feature disabled
    if (!navigator.onLine)
        return; // offline
    if (event.defaultPrevented)
        return; // paste already handled
    const clipboardText = event.clipboardData.getData('text/plain');
    // determine if it's a Twitter URL
    if (!isTwitterUrl(clipboardText))
        return;
    let id = '';
    try {
        id = getTweetID(clipboardText);
    }
    catch (error) {
        return;
    }
    // if it is a Tweet link, check for bearer token
    let bearerToken;
    if (obsidian.Platform.isMobileApp) {
        bearerToken = plugin.settings.bearerToken || '';
    }
    else {
        bearerToken =
            plugin.settings.bearerToken || process.env.TWITTER_BEARER_TOKEN || '';
    }
    if (!bearerToken) {
        new obsidian.Notice('Twitter bearer token was not found.');
        return;
    }
    plugin.bearerToken = bearerToken;
    // determine if the user is pasting into a spot we don't want to interfere
    if (isInMarkdownLink(editor) || isInQuote(editor))
        return;
    // We've decided to handle the paste, stop propagation to the default handler.
    event.preventDefault();
    const placeholder = `Fetching tweet ${id}...`;
    editor.replaceSelection(placeholder);
    const downloadManager = createDownloadManager();
    try {
        plugin.currentTweet = yield getTweet(id, bearerToken);
    }
    catch (error) {
        let text = editor.getValue();
        text = text.replace(placeholder, `Error retrieving tweet: ${clipboardText}`);
        editor.setValue(text);
    }
    const markdown = yield buildMarkdown(plugin.app, plugin, downloadManager, plugin.currentTweet, 'embed');
    plugin.currentTweetMarkdown = markdown + plugin.currentTweetMarkdown;
    yield downloadManager
        .finishDownloads()
        .then(results => {
        if (results.length) {
            new obsidian.Notice('Images downloaded');
        }
    })
        .catch(error => {
        new obsidian.Notice('There was an error downloading the images.');
        console.error(error);
    });
    // embed the processed tweet
    let text = editor.getValue();
    if (plugin.settings.embedMethod === 'text') {
        text = text.replace(placeholder, plugin.currentTweetMarkdown);
    }
    else {
        let filename = createFilename(plugin.currentTweet, plugin.settings.filename);
        const fileExists = doesFileExist(plugin.app, `${plugin.settings.noteLocation}/${filename}`);
        if (fileExists) {
            // just unique-ify the title for now
            filename = `${v4().substring(0, 8)}-${filename}`;
        }
        if (plugin.settings.noteLocation) {
            // create the directory
            const doesFolderExist = yield plugin.app.vault.adapter.exists(plugin.settings.noteLocation);
            if (!doesFolderExist) {
                yield plugin.app.vault
                    .createFolder(plugin.settings.noteLocation)
                    .catch(error => {
                    new obsidian.Notice('Error creating tweet directory.');
                    console.error('There was an error creating the tweet directory.', error);
                });
            }
        }
        yield plugin.app.vault.create(`${plugin.settings.noteLocation}/${filename}`, plugin.currentTweetMarkdown);
        text = text.replace(placeholder, `![[${filename}]]`);
    }
    editor.setValue(text);
    // cleanup
    plugin.currentTweet = null;
    plugin.currentTweetMarkdown = '';
});
const isTwitterUrl = (text) => /^t?https?:\/\/(mobile\.)?twitter.com\/\w+\/status\/\w+/i.test(text);
const isInMarkdownLink = (editor) => {
    const { ch, line } = editor.getCursor();
    const preceding = editor.getRange({ ch: ch - 2, line }, { ch, line });
    return preceding === ')[';
};
const isInQuote = (editor) => {
    const { ch, line } = editor.getCursor();
    const preceding = editor.getRange({ ch: ch - 1, line }, { ch, line });
    return /["'`]/.test(preceding);
};
const doesFileExist = (app, filepath) => {
    filepath = obsidian.normalizePath(filepath);
    // see if file already exists
    let file;
    try {
        file = app.vault.getAbstractFileByPath(filepath);
    }
    catch (error) {
        return false;
    }
    return !!file;
};

class TweetCompleteModal extends obsidian.Modal {
    constructor(app, plugin) {
        super(app);
        this.plugin = plugin;
    }
    onOpen() {
        const { contentEl, titleEl } = this;
        titleEl.setText('Name tweet file');
        let filename = createFilename(this.plugin.currentTweet, this.plugin.settings.filename);
        new obsidian.Setting(contentEl)
            .setName('Filename')
            .setDesc('Set the name of the file. You can use the placeholders [[handle]], [[name]], [[text]], and [[id]].')
            .addText(input => {
            input.setValue(filename);
            input
                .onChange(value => {
                filename = createFilename(this.plugin.currentTweet, value);
            })
                .setPlaceholder('[[handle]] - [[id]]');
        });
        new obsidian.Setting(contentEl).addButton(button => {
            button.setButtonText('Save Tweet');
            button.onClick(() => __awaiter(this, void 0, void 0, function* () {
                // see if file already exists
                const file = doesFileExist(this.app, `${this.plugin.settings.noteLocation}/${filename}`);
                if (file) {
                    new obsidian.Notice(`The file ${filename} already exists`);
                    return;
                }
                if (this.plugin.settings.noteLocation) {
                    // create the directory
                    const doesFolderExist = yield this.app.vault.adapter.exists(this.plugin.settings.noteLocation);
                    if (!doesFolderExist) {
                        yield this.app.vault
                            .createFolder(this.plugin.settings.noteLocation)
                            .catch(error => {
                            new obsidian.Notice('Error creating tweet directory.');
                            console.error('There was an error creating the tweet directory.', error);
                        });
                    }
                }
                // clean up excessive newlines
                this.plugin.currentTweetMarkdown =
                    this.plugin.currentTweetMarkdown.replace(/\n{2,}/g, '\n\n');
                // write the note to file
                yield this.app.vault.create(`${this.plugin.settings.noteLocation}/${filename}`, this.plugin.currentTweetMarkdown);
                new obsidian.Notice(`${filename} created.`);
                this.close();
            }));
        });
    }
    onClose() {
        const { contentEl, titleEl } = this;
        titleEl.empty();
        contentEl.empty();
        // clean up
        this.plugin.currentTweet = null;
        this.plugin.currentTweetMarkdown = null;
    }
}

class TweetUrlModal extends obsidian.Modal {
    constructor(app, plugin) {
        super(app);
        this.url = '';
        this.thread = false;
        this.plugin = plugin;
    }
    onOpen() {
        const { contentEl, titleEl } = this;
        titleEl.setText('Download Tweet');
        new obsidian.Setting(contentEl)
            .setName('Tweet URL')
            .setDesc('Enter the URL of the tweet to download.')
            .addText(input => {
            input
                .setValue(this.url)
                .onChange(value => (this.url = value))
                .setPlaceholder('Tweet URL');
        });
        new obsidian.Setting(contentEl)
            .setName('Tweet thread')
            .setDesc('Download a tweet thread. (Put the link to the LAST tweet in the thread).')
            .addToggle(toggle => {
            toggle.setValue(false).onChange(value => {
                this.thread = value;
            });
        });
        new obsidian.Setting(contentEl)
            .setClass('download_tweet_button')
            .addButton(button => {
            button.setButtonText('Download Tweet');
            button.onClick(() => __awaiter(this, void 0, void 0, function* () {
                if (!navigator.onLine) {
                    new obsidian.Notice('You seem to be offline.');
                    return;
                }
                // error checking for kickoff
                let bearerToken;
                if (obsidian.Platform.isMobileApp) {
                    bearerToken = this.plugin.settings.bearerToken || '';
                }
                else {
                    bearerToken =
                        this.plugin.settings.bearerToken ||
                            process.env.TWITTER_BEARER_TOKEN ||
                            '';
                }
                if (!bearerToken) {
                    new obsidian.Notice('Bearer token was not found.');
                    return;
                }
                if (!this.url) {
                    new obsidian.Notice('No tweet link provided.');
                    return;
                }
                let id = '';
                try {
                    id = getTweetID(this.url);
                }
                catch (error) {
                    new obsidian.Notice(error.message);
                    return;
                }
                this.plugin.bearerToken = bearerToken;
                this.downloadManager = createDownloadManager();
                // set the button as loading
                button.setButtonText('Loading...');
                button.setDisabled(true);
                // fetch tweet
                try {
                    this.plugin.currentTweet = yield getTweet(id, bearerToken);
                }
                catch (error) {
                    new obsidian.Notice(error.message);
                    // set the button as loading
                    button.setButtonText('Download Tweet');
                    button.setDisabled(false);
                    return;
                }
                this.plugin.currentTweetMarkdown = '';
                // special handling for threads
                if (this.thread) {
                    // check if this is the head tweet
                    while (this.plugin.currentTweet.data.conversation_id !==
                        this.plugin.currentTweet.data.id) {
                        const markdown = yield buildMarkdown(this.app, this.plugin, this.downloadManager, this.plugin.currentTweet, 'thread');
                        this.plugin.currentTweetMarkdown =
                            markdown + this.plugin.currentTweetMarkdown;
                        // load in parent tweet
                        const [parent_tweet] = this.plugin.currentTweet.data.referenced_tweets.filter(ref_tweet => ref_tweet.type === 'replied_to');
                        this.plugin.currentTweet = yield getTweet(parent_tweet.id, bearerToken);
                    }
                }
                const markdown = yield buildMarkdown(this.app, this.plugin, this.downloadManager, this.plugin.currentTweet);
                this.plugin.currentTweetMarkdown =
                    markdown + this.plugin.currentTweetMarkdown;
                yield this.downloadManager
                    .finishDownloads()
                    .then(results => {
                    if (results.length) {
                        new obsidian.Notice('Images downloaded.');
                    }
                })
                    .catch(error => {
                    new obsidian.Notice('There was an error downloading the images.');
                    console.error(error);
                });
                this.close();
            }));
        });
    }
    onClose() {
        const { contentEl, titleEl } = this;
        titleEl.empty();
        contentEl.empty();
        if (this.plugin.currentTweetMarkdown) {
            this.plugin.tweetComplete = new TweetCompleteModal(this.plugin.app, this.plugin);
            this.plugin.tweetComplete.open();
        }
    }
}

class TTM extends obsidian.Plugin {
    constructor() {
        super(...arguments);
        this.currentTweetMarkdown = '';
    }
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            console.info('Loading Tweet to Markdown');
            obsidian.addIcon('twitter', '<path fill="currentColor" stroke="currentColor" d="M50.583 35.174c1.361-.402 3.076-.258 4.5-.44a58.326 58.326 0 007.834-1.572c8.806-2.383 17.139-6.943 23.833-13.147 2.062-1.91 4.303-3.939 5.917-6.257h.083c3.816 7.251 3.671 15.886-1.344 22.583-1.275 1.702-3.033 3.74-4.99 4.667v.083c3.307-.027 6.312-1.211 9.25-2.583 0 7.586-4.087 14.845-10.916 18.354-1.642.844-3.549 1.747-5.417 1.896v.083c2.866.807 6.173 1.05 9.084.333-.173 1.982-1.734 4.281-2.886 5.834-3.764 5.07-9.756 8.333-16.114 8.333 1.602 1.471 3.6 2.649 5.5 3.692a41.641 41.641 0 0017.166 5.05c2.5.172 4.93-.152 7.417-.159v.084c-2.239 1.191-4.352 2.578-6.667 3.64-4.485 2.06-9.222 3.599-14.083 4.475-3.516.634-6.939.718-10.5.718-4.04 0-7.936-.12-11.917-.9-14.826-2.908-27.945-11.673-36.221-24.35-4.66-7.138-7.832-15.174-9.242-23.583-.465-2.772-.588-5.543-.78-8.334-.066-.976.374-2.43.027-3.33-.168-.432-.769-.727-1.117-1.003a50.039 50.039 0 01-2.5-2.098c-2.432-2.2-4.773-4.77-6.5-7.569l4.167 1.524 7.5 1.643v-.083c-1.046-.452-1.967-1.27-2.834-1.994-2.753-2.298-5.13-5.684-6.083-9.173 1.223.36 2.427 1.252 3.583 1.812 1.972.954 4.064 1.691 6.167 2.295.88.253 1.994.713 2.917.69.46-.012.843-.552 1.166-.833.89-.77 1.769-1.517 2.75-2.171 2.52-1.68 5.43-2.732 8.417-3.174 9.758-1.444 19.486 4.708 22.414 14.13.706 2.271 1.075 4.79.912 7.168-.085 1.234-.393 2.441-.493 3.666z"/>');
            yield this.loadSettings();
            // clean up null string default settings
            if (this.settings.noteLocation === null) {
                this.settings.noteLocation = '';
                console.info('Cleaning up note location setting.');
                yield this.saveSettings();
            }
            if (this.settings.assetLocation === null) {
                this.settings.assetLocation = '';
                console.info('Cleaning up asset location setting.');
                yield this.saveSettings();
            }
            const pasteTweetWrapper = (event, editor, markdownView) => {
                return pasteTweet(event, editor, markdownView, this);
            };
            // add link paste event listener
            this.app.workspace.on('editor-paste', pasteTweetWrapper, this);
            // add twitter icon
            this.addRibbonIcon('twitter', 'Tweet to Markdown', () => {
                new TweetUrlModal(this.app, this).open();
            });
            this.addCommand({
                id: 'open-tweet-url-modal',
                name: 'Download Tweet from URL',
                callback: () => {
                    new TweetUrlModal(this.app, this).open();
                },
            });
            this.addSettingTab(new TTMSettingTab(this.app, this));
        });
    }
    onunload() {
        console.info('unloading Tweet to Markdown');
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
}

module.exports = TTM;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy9zZXR0aW5ncy50cyIsInNyYy9kb3dubG9hZE1hbmFnZXIudHMiLCJzcmMvdW5pY29kZVN1YnN0cmluZy50cyIsIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwibm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmFsaWRhdGUuanMiLCJub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsIm5vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanMiLCJzcmMvdXRpbC50cyIsInNyYy9Ud2VldENvbXBsZXRlTW9kYWwudHMiLCJzcmMvVHdlZXRVcmxNb2RhbC50cyIsIm1haW4udHMiXSwic291cmNlc0NvbnRlbnQiOm51bGwsIm5hbWVzIjpbIlBsdWdpblNldHRpbmdUYWIiLCJtb21lbnQiLCJTZXR0aW5nIiwiUGxhdGZvcm0iLCJOb3RpY2UiLCJyZXF1ZXN0Iiwibm9ybWFsaXplUGF0aCIsInV1aWQiLCJNb2RhbCIsIlBsdWdpbiIsImFkZEljb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1REE7QUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUs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QyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsV0FBVyxFQUFFLENBQUM7QUFDemdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDdkIsSUFBSSxNQUFNLFNBQVMsQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0FBQ25ELEdBQUc7QUFDSDtBQUNBLEVB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
